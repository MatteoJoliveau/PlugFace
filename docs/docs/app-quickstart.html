<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Applications Quickstart · PlugFace</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Applications Quickstart · PlugFace"/><meta property="og:type" content="website"/><meta property="og:url" content="https://plugface.matteojoliveau.com/index.html"/><meta property="og:description" content="PlugFace introduces a few concepts that are crucial to understand how to create and operate a plugin system."/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://plugface.matteojoliveau.com/blog/atom.xml" title="PlugFace Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://plugface.matteojoliveau.com/blog/feed.xml" title="PlugFace Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">PlugFace</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/app-quickstart.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/javadoc.html" target="_self">API</a></li><li class=""><a href="/en/help.html" target="_self">Help</a></li><li class=""><a href="/blog" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Installation</h3><ul><li class="navListItem"><a class="navItem" href="/docs/install-maven.html">Maven</a></li><li class="navListItem"><a class="navItem" href="/docs/install-gradle.html">Gradle</a></li><li class="navListItem"><a class="navItem" href="/docs/install-manual.html">Manual</a></li><li class="navListItem"><a class="navItem" href="/docs/install-git.html">Git</a></li></ul></div><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/app-quickstart.html">Applications Quickstart</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-quickstart.html">Plugin Quickstart</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/dependency-injection.html">Dependency Injection</a></li></ul></div><div class="navGroup navGroupActive"><h3>Integrations</h3><ul><li class="navListItem"><a class="navItem" href="/docs/spring-integration.html">Spring</a></li></ul></div><div class="navGroup navGroupActive"><h3>JavaDoc</h3><ul><li class="navListItem"><a class="navItem" href="/docs/javadoc.html">Javadoc</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Applications Quickstart</h1></header><article><div><span><p>PlugFace introduces a few concepts that are crucial to understand how to create and operate a plugin system.
First of all, what is a plugin in PlugFace?</p>
<p>A plugin is simply put a class that is not present in your application at compile time. PlugFace provides the primitives to
load arbitrary classes at runtime and instantiate them as singletons, allowing you to retrieve them and access their functionality
as if they were part of your system from the start.</p>
<p>You normally start by defining an SDK, for example a set of interfaces that plugins will implement. This set is known by
your application, and will be used as the bridge between the two worlds.<br>
Plugins will then implement these interfaces and be packaged separately.</p>
<p>Now, let's talk about the building blocks you need to use plugins in your application.</p>
<h2><a class="anchor" aria-hidden="true" id="plugin-context"></a><a href="#plugin-context" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin Context</h2>
<p>The context is your plugin registry. The <a href="apidocs/plugface-core/org/plugface/core/PluginContext.html">PluginContext</a> interface defines the methods used to register, remove
and retrieve plugin objects so that they can be used by your code. You normally don't need to access the context directly,
as the <a href="#plugin-manager">PluginManager</a> will act as a safe proxy for it, but it is there if you need it.</p>
<h2><a class="anchor" aria-hidden="true" id="plugin-manager"></a><a href="#plugin-manager" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin Manager</h2>
<p>The manager is your connection point with the plugin world. The <a href="apidocs/plugface-core/org/plugface/core/PluginManager.html">PluginManager</a> interface defines some proxy methods
to access the context but also a <code>loadPlugins(PluginSource source)</code> method that is used to dinamically
load and instantiate plugin classes from a specified source.<br>
The default implementation is <code>DefaultPluginManager</code>, and a convenience factory method is provided if you don't need
to specify a particular implementation of its dependencies (<code>PluginContext</code>, <code>AnnotationProcessor</code> and <code>DependencyResolver</code>).<br>
Just call <code>PluginManagers.defaultPluginManager()</code> and it will create it for you.<br>
<strong>It is recommended</strong> that you keep the manager as a singleton and reuse everywhere in your application.</p>
<h2><a class="anchor" aria-hidden="true" id="plugin-sources"></a><a href="#plugin-sources" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin Sources</h2>
<p>Plugins can be loaded from multiple sources.</p>
<p>The <code>PluginSource</code> interface abstract this mechanism away and allows to customize and extends the loading capabilities of PlugFace.</p>
<p>For convenience, a set of ready-to-use loaders is provided by the factory class <code>PluginSources</code>, such as loading from JAR file
or from a list of <code>Class&lt;&gt;</code> objects (useful for testing or debugging).</p>
<h1><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h1>
<p>First of all let's define our plugin SDK. As per tradition, we'll make an Hello World application.</p>
<p>We define our <code>Greeter</code> interface like so.<br>
<strong>QUICK NOTE</strong> Using interfaces is not actually recommended, as plugins can be retrieved from a String based name,
but it makes using them much easier since loading them without knowing their supertype only allows to use them via reflection.</p>
<pre><code class="hljs css java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Greeter</span> </span>{ 

    <span class="hljs-comment">// Greet the world</span>
    <span class="hljs-function">String <span class="hljs-title">greet</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<p>Somewhere in the universe we know that there is a plugin implementing this interface and it has been packaged in a convenient <code>greeter-plugin.jar</code> that we will put in a folder accessible from our application.</p>
<p>Now, let's load it in our application.</p>
<pre><code class="hljs css java"><span class="hljs-comment">// somewhere</span>

PluginManager manager = PluginManagers.defaultPluginManager();
manager.loadPlugins(PluginSources.jarSource(<span class="hljs-string">"path/to/plugin/folder"</span>));

Greeter greeterPlugin = manager.getPlugin(Greeter.class); <span class="hljs-comment">// Here is why having a shared interface between plugins and applications is convenient</span>

Object greeterPlugin = manager.getPlugin(<span class="hljs-string">"greeter"</span>); <span class="hljs-comment">// As an alternative if you don't have shared code, the name is defined by the plugin itself</span>

System.out.println(greeterPlugin.greet()) <span class="hljs-comment">// It works!</span>
</code></pre>
<p>Et voilà, you have successfully modularized you application using plugins!<br>
Now let's write our actual greeter plugin.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="install-git.html">← Git Installation</a><a class="docs-next button" href="plugin-quickstart.html">Plugin Quickstart →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/app-quickstart.html">Getting Started</a><a href="/docs/en/javadoc.html">API Reference</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/plugface" target="_blank">Stack Overflow</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/matteojoliveau/plugface">GitHub</a><a class="github-button" href="https://github.com/matteojoliveau/plugface" data-icon="octicon-star" data-count-href="/matteojoliveau/plugface/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://github.com/matteojoliveau/" target="_blank" class="fbOpenSource"><section class="copyright">Copyright © 2018 Matteo Joliveau.</section></a></footer></div></body></html>