<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Dependency Injection · PlugFace</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Dependency Injection · PlugFace"/><meta property="og:type" content="website"/><meta property="og:url" content="https://plugface.matteojoliveau.com/index.html"/><meta property="og:description" content="Small plugins are handy to offload simple tasks outside your application, but for more complicated scenarios it may be useful to be able to combine them."/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://plugface.matteojoliveau.com/blog/atom.xml" title="PlugFace Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://plugface.matteojoliveau.com/blog/feed.xml" title="PlugFace Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">PlugFace</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/app-quickstart.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/javadoc.html" target="_self">API</a></li><li class=""><a href="/en/help.html" target="_self">Help</a></li><li class=""><a href="/blog" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Installation</h3><ul><li class="navListItem"><a class="navItem" href="/docs/install-maven.html">Maven</a></li><li class="navListItem"><a class="navItem" href="/docs/install-gradle.html">Gradle</a></li><li class="navListItem"><a class="navItem" href="/docs/install-manual.html">Manual</a></li><li class="navListItem"><a class="navItem" href="/docs/install-git.html">Git</a></li></ul></div><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/app-quickstart.html">Applications Quickstart</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-quickstart.html">Plugin Quickstart</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/dependency-injection.html">Dependency Injection</a></li></ul></div><div class="navGroup navGroupActive"><h3>Integrations</h3><ul><li class="navListItem"><a class="navItem" href="/docs/spring-integration.html">Spring</a></li></ul></div><div class="navGroup navGroupActive"><h3>JavaDoc</h3><ul><li class="navListItem"><a class="navItem" href="/docs/javadoc.html">Javadoc</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Dependency Injection</h1></header><article><div><span><p>Small plugins are handy to offload simple tasks outside your application, but for more complicated scenarios it may be useful to be able to combine them.</p>
<p>PlugFace provides a full fledged dependency injection system based on topological sorting that can resolve deep-nested dependencies, allowing plugins to have other fellow plugins injected in their constructor. PlugFace uses the standard Java <code>@Inject</code> annotation so your classes can still be used with any regular dependency injection system.</p>
<h2><a class="anchor" aria-hidden="true" id="spring-integration"></a><a href="#spring-integration" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spring Integration</h2>
<p>As pointed out in the <a href="spring-integration.html">Spring Integration</a> section, if using <code>plugface-spring</code> you can also inject Spring beans into your plugins.
This can be useful in enterprise application where you want to access services inside your plugins to modularize business logic, or to access database by injecting DAO classes
or repositories.</p>
<h3><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<pre><code class="hljs css java"><span class="hljs-comment">// Simple Plugin</span>
<span class="hljs-keyword">package</span> plugins;

<span class="hljs-keyword">import</span> org.plugface.core.annotations.Plugin;

<span class="hljs-meta">@Plugin</span>(name = <span class="hljs-string">"test"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestPlugin</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">greet</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello PlugFace!"</span>;
    }
}
</code></pre>
<pre><code class="hljs css java"><span class="hljs-comment">// Dependent Plugin</span>

<span class="hljs-keyword">package</span> plugins;

<span class="hljs-keyword">import</span> org.plugface.core.annotations.Plugin;

<span class="hljs-keyword">import</span> javax.inject.Inject;

<span class="hljs-meta">@Plugin</span>(name = <span class="hljs-string">"single"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SingleDependencyPlugin</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TestPlugin test;

    <span class="hljs-meta">@Inject</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SingleDependencyPlugin</span><span class="hljs-params">(TestPlugin test)</span> </span>{
        <span class="hljs-keyword">this</span>.test = test;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> TestPlugin <span class="hljs-title">getTest</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> test;
    }
}

</code></pre>
<pre><code class="hljs css java"><span class="hljs-comment">// Usage</span>

TestPlugin test = manager.getPlugin(<span class="hljs-string">"test"</span>);
SingleDependencyPlugin sdp = manager.getPlugin(<span class="hljs-string">"single"</span>);

test.equals(sdp.getTest()); <span class="hljs-comment">// True. They are the same instance as plugins are registered as singletons</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="plugin-quickstart.html">← Plugin Quickstart</a><a class="docs-next button" href="spring-integration.html">Spring Integration →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/app-quickstart.html">Getting Started</a><a href="/docs/en/javadoc.html">API Reference</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/plugface" target="_blank">Stack Overflow</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/matteojoliveau/plugface">GitHub</a><a class="github-button" href="https://github.com/matteojoliveau/plugface" data-icon="octicon-star" data-count-href="/matteojoliveau/plugface/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://github.com/matteojoliveau/" target="_blank" class="fbOpenSource"><section class="copyright">Copyright © 2018 Matteo Joliveau.</section></a></footer></div></body></html>